<h1 align="center">Блог-Платформа на Spring Boot</h1>
<p align="center">
  Платформа для ведения блогов, разработанная на Spring Boot с использованием JWT для аутентификации и Kafka для асинхронного обмена сообщениями.
</p>

<br>

## Обзор

Этот проект представляет собой блог-платформу, разработанную на Spring Boot. Он позволяет пользователям создавать и читать посты, комментировать их, подписываться на сообщества (subreddit), голосовать за посты и получать уведомления по электронной почте. Проект использует JWT для аутентификации, Kafka для асинхронной отправки уведомлений и Redis для кэширования.

<br>

## Технологии

*   **Spring Boot**: Фреймворк для создания Java-приложений.
*   **Spring Security**: Для аутентификации и авторизации.
*   **JWT (JSON Web Tokens)**: Для генерации и проверки токенов доступа.
*   **PostgreSQL**: База данных для хранения данных.
*   **Redis**: Для кэширования данных.
*   **Kafka**: Для асинхронного обмена сообщениями.
*   **Docker**: Для контейнеризации приложения и базы данных.
*   **Swagger**: Для документирования API.
*  **Maildev**: Для тестирования отправки электронной почты.

<br>

## Структура Проекта

*   `blog-service`: Основной модуль приложения, включающий:
    *   `config`: Конфигурационные файлы (например, Swagger, Security).
    *   `controller`: Контроллеры для обработки HTTP-запросов.
    *   `dto`: Data Transfer Objects для передачи данных между слоями.
    *   `exceptions`: Классы для обработки исключений.
    *   `mapper`: Классы для преобразования между моделями и DTO.
    *   `models`: Классы, представляющие данные (сущности), такие как `Comment`, `Post`, `User`, `SubReddit`.
    *   `repository`: Интерфейсы для доступа к данным (репозитории).
    *   `service`: Сервисы, содержащие бизнес-логику.
    *   `security`: Конфигурации безопасности и JWT.
*   `email_service`: Сервис для отправки уведомлений по электронной почте.
*   `docker-compose.yml`: Файл для запуска приложения, базы данных, Redis и Kafka в Docker.

<br>

## Зависимости

*   **Spring Boot**: Основной фреймворк.
*   **Spring Data JPA**: Для работы с базой данных PostgreSQL.
*   **Spring Security**: Для аутентификации и авторизации.
*   **JWT**: Для генерации и проверки токенов.
*   **Redis**: Для кэширования.
*   **Kafka**: Для асинхронного обмена сообщениями.
*   **Lombok**: Для уменьшения количества бойлерплейт-кода (если используется).
*   **Spring Web**: Для обработки веб-запросов.
*  **Swagger**: Для документирования API
<br>

## Установка и Запуск

### Предварительные требования

1.  Java Development Kit (JDK) 17 или выше.
2.  Maven (или Gradle).
3.  Docker и Docker Compose.
4.  Установленный Git.

### Шаги для запуска

1.  **Клонирование репозитория:**

    ```bash
    git clone https://github.com/BogdanPryadko4853/blog_network
    cd blog_network
    ```

2.  **Сборка проекта:**

    ```bash
    mvn clean install
    ```
  *или используйте Gradle*

3.  **Запуск с использованием Docker Compose:**

    ```bash
    docker-compose up --build
    ```

    Это создаст и запустит контейнеры для приложения, базы данных, Redis и Kafka. Приложение будет доступно по адресу `http://localhost:8080`.

<br>

### Доступ к Swagger UI

После запуска приложения, вы можете просмотреть документацию API и протестировать его через Swagger UI по адресу:

* Swagger доступен для любого endpoint

<br>

## Доступ к Сервисам

*   **Приложение**: `http://localhost:8080`.
*   **База данных PostgreSQL**: `localhost:5432`.
*   **Redis**: `localhost:6379`.
*   **Kafka**: `localhost:9092`.
*   **Maildev**: `http://localhost:1080`

*Примечание: Учетные данные для PostgreSQL: `user: postgres, password: password`.  Изменить их можно в файле `docker-compose.yml`*

<br>

## Особенности Безопасности

*   **JWT:** Используется для аутентификации и авторизации пользователей. При успешной регистрации или входе в систему выдается токен, который необходимо добавлять в заголовок `Authorization` с префиксом `Bearer `.
*  **Доступ к endpoint:**
   *  `/api/auth/signup` и `/api/auth/login` доступны всем пользователям
   *  `/api/subreddit` доступны все пользователям
   *  `/api/posts` доступны все пользователям
   *  `/api/posts/{id}` доступен всем пользователям
   *  `swagger` доступен всем пользователям
   *  Все остальные `endpoint` требуют аутентификации

<br>

## API Endpoints

*   Для доступа к эндпоинтам API, пожалуйста, обратитесь к документации Swagger UI.

<br>
